<!doctype html>
<html lang="en">
<head>
  <!-- 其他头部内容 -->
  <style>
    /* 基本样式 */
    #toc {
      position: fixed;
      right: 10px; /* 默认右侧位置 */
      top: 100px;  /* 默认顶部位置 */
      width: 200px; /* 默认宽度 */
      background-color: #f9f9f9;
      padding: 10px;
      border: 1px solid #ddd;
      max-height: 80vh;
      overflow-y: auto;
      z-index: 1000; /* 确保在其他内容之上 */
    }

    /* 当屏幕宽度小于 768px 时 */
    @media (max-width: 768px) {
      #toc {
        right: 5px; /* 较小屏幕时更靠近右边 */
        top: 80px;  /* 较小屏幕时位置稍微调整 */
        width: 150px; /* 较小屏幕时更窄 */
      }
    }

    /* 当屏幕宽度小于 480px 时 */
    @media (max-width: 480px) {
      #toc {
        right: 0px; /* 极小屏幕时靠近边缘 */
        top: 60px;  /* 极小屏幕时位置调整 */
        width: 100px; /* 极小屏幕时最窄 */
        font-size: 14px; /* 调整字体大小 */
      }
    }
  </style>
</head>
<body>
  <!-- 导航栏代码 -->
  <div id="toc">
    <h3>Contents</h3>
    <div id="toc-list"></div>
  </div>

  <!-- 其他内容 -->

  <script>
    window.addEventListener("DOMContentLoaded", function () {
      var toc = document.getElementById('toc-list');
      var headers = document.querySelectorAll('#main h1, #main h2');
      
      headers.forEach(function (header, index) {
        if (!header.id) {
          header.id = 'section-' + index;
        }
        
        var link = document.createElement('a');
        link.href = '#' + header.id;
        link.textContent = header.textContent;
  
        if (header.tagName === 'H2') {
          link.style.marginLeft = '13px';  // 缩进二级标题
        } else {
          link.style.marginLeft = '0px';   // 一级标题不缩进
        }
  
        toc.appendChild(link);
        toc.appendChild(document.createElement('br')); // 换行
      });
    });
  </script>
</body>
</html>
